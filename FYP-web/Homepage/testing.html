<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="assets/favicon.ico" />
    <link rel="stylesheet" href="style-fypl.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap"
      rel="stylesheet"
    />
    <title>FYPL</title>
  </head>
  <body>
    <nav id="navbar-container">
      <a href="./fyp.html" id="logo-fypl"
        ><img src="./assets/Logo.png" alt="logo" id="logo-nav"
      /></a>

      <div>
        <ul id="resp-nav">
          <li><a href="./fyp.html">FYP</a></li>
          <li><a href="./faq.html">FAQ</a></li>
          <li><a href="./fypl.html">FYPL</a></li>
          <li><a href="https://freshmen.apps.binus.ac.id">Register</a></li>
          <a href="#" id="close"><img src="assets/x-button.png" alt="" /></a>
        </ul>
      </div>

      <div id="mobile">
        <i id="bar"><img src="assets/drop-button.png" alt="" /></i>
      </div>
    </nav>

    <div class="main-card-fypl"></div>

    <div class="carousel-wrapper">
      <div class="carousel">
        <!-- School of Accounting -->
        <div class="carousel-slide">
          <div class="container-fypl">
            <h1>School of Accounting</h1>
            <p>Numbers Whisper, We Make Sense</p>
            <div class="card-fypl">
              <div class="fypl-card" id="card5">
                <p>Accounting</p>
                <img
                  src="assets/nat-soa.png"
                  alt="Nathalie Audrey Christabel Gultom"
                />
                <p>Nathalie Audrey Christabel Gultom</p>
              </div>
              <div class="confetti-container" id="confettiContainer5"></div>
            </div>
          </div>
        </div>

        <!-- F.O.D. Communication Hotel and Tourism -->
        <div class="carousel-slide">
          <div class="container-fypl">
            <h1>F.O.D. Communication</h1>
            <h1>Hotel and Tourism</h1>
            <p>Talk Smooth, Host Cooler than Ice</p>
            <div class="card-fypl">
              <div class="fypl-card" id="card7">
                <p>Marketing Com.</p>
                <img src="assets/hibran-hotel.png" alt="Hibran Aditira" />
                <p>Hibran Aditira</p>
              </div>
              <div class="confetti-container" id="confettiContainer7"></div>
            </div>
          </div>
        </div>

        <!-- Faculty of Engineering -->
        <div class="carousel-slide">
          <div class="container-fypl">
            <h1>Faculty of Engineering</h1>
            <p>Build Things, Break Sleep Schedules</p>
            <div class="card-fypl">
              <div class="fypl-card" id="card8">
                <p>Biotechnology</p>
                <img src="assets/nandya_foe.png" alt="Nandya Zahra Armevia" />
                <p>Nandya Zahra Armevia</p>
              </div>
              <div class="confetti-container" id="confettiContainer8"></div>
            </div>
          </div>
        </div>

        <!-- Faculty of Humanities -->
        <div class="carousel-slide">
          <div class="container-fypl">
            <h1>Faculty of Humanities</h1>
            <p>Feelings, Thoughts, and Deep Dives</p>
            <div class="card-fypl">
              <div class="fypl-card" id="card9">
                <p>IR - GC</p>
                <img
                  src="assets/ancilla-foh.png"
                  alt="Maura Ancilla Paramaputri"
                />
                <p>Maura Ancilla Paramaputri</p>
              </div>
              <div class="confetti-container" id="confettiContainer9"></div>
            </div>
          </div>
        </div>

        <!-- BINUS Business School (BBS Slide) -->
        <div class="carousel-slide bbs-slide">
          <div class="container-fypl">
            <h1>BINUS Business School</h1>
            <p>Where Group Projects Test Friendships</p>
            <div class="bbs-grid">
              <!-- Row 1 -->
              <div class="bbs-row">
                <div class="fypl-card" id="card14">
                  <p>IBM</p>
                  <img src="assets/geb.png" alt="Gabriel Felande Aulia" />
                  <p>Gabriel Felande Aulia</p>
                </div>
                <div class="confetti-container" id="confettiContainer14"></div>

                <div class="fypl-card" id="card15">
                  <p>IBM - GC</p>
                  <img src="assets/jess.png" alt="Jessica Trishya Hendra W." />
                  <p>Jessica Trishya Hendra W.</p>
                </div>
                <div class="confetti-container" id="confettiContainer15"></div>
              </div>

              <!-- Row 2 -->
              <div class="bbs-row">
                <div class="fypl-card" id="card16">
                  <p>Management</p>
                  <img
                    src="assets/alysia-management.png"
                    alt="Alysia Kharlotta"
                  />
                  <p>Alysia Kharlotta</p>
                </div>
                <div class="confetti-container" id="confettiContainer16"></div>

                <div class="fypl-card" id="card17">
                  <p>GBM</p>
                  <img src="assets/shae-gbm.png" alt="Shaena Fazila Rachman" />
                  <p>Shaena Fazila Rachman</p>
                </div>
                <div class="confetti-container" id="confettiContainer17"></div>
              </div>

              <!-- Row 3 -->
              <div class="bbs-row bbs-row-single">
                <div class="fypl-card" id="card18">
                  <p>BC</p>
                  <img src="assets/fadil-bc.png" alt="Muhammad Fadhil Habi" />
                  <p>Muhammad Fadhil Habi</p>
                </div>
                <div class="confetti-container" id="confettiContainer18"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- School of Design -->
        <div class="carousel-slide">
          <div class="container-fypl">
            <h1>School of Design</h1>
            <p>Sleep? Sorry, Deadlines Need Love</p>
            <div class="card-fypl design-grid">
              <div class="fypl-card" id="card19">
                <p>DKV</p>
                <img src="assets/jo-dkv.png" alt="Jonathan Lin" />
                <p>Jonathan Lin</p>
              </div>
              <div class="confetti-container" id="confettiContainer19"></div>

              <div class="fypl-card" id="card20">
                <p>Film</p>
                <img src="assets/vanya-film.png" alt="Vanya Aurelia Budiman" />
                <p>Vanya Aurelia Budiman</p>
              </div>
              <div class="confetti-container" id="confettiContainer20"></div>
            </div>
          </div>
        </div>

        <!-- School of Information System -->
        <div class="carousel-slide">
          <div class="container-fypl">
            <h1>School of Information</h1>
            <h1>System</h1>
            <p>Why SQL, Python Feels Like Nuts?</p>
            <div class="card-fypl is-grid">
              <div class="fypl-card" id="card21">
                <p>IS</p>
                <img src="assets/vin.png" alt="Vincent" />
                <p>Vincent</p>
              </div>
              <div class="confetti-container" id="confettiContainer21"></div>

              <div class="fypl-card" id="card22">
                <p>IS</p>
                <img src="assets/bagas.png" alt="Benedictus Bagas Putra H." />
                <p>Benedictus Bagas Putra</p>
              </div>
              <div class="confetti-container" id="confettiContainer22"></div>
            </div>
          </div>
        </div>

        <!-- School of Computer Science -->
        <div class="carousel-slide">
          <div class="container-fypl">
            <h1>School of Computer</h1>
            <h1>Science</h1>
            <p>Code-ing Nerds? Here's the Peoples</p>
            <div class="card-fypl cs-grid">
              <div class="fypl-card" id="card23">
                <p>CS</p>
                <img src="assets/juan-socs.png" alt="Juan Ariviano C." />
                <p>Juan Ariviano C.</p>
              </div>
              <div class="confetti-container" id="confettiContainer23"></div>

              <div class="fypl-card" id="card24">
                <p>CS</p>
                <img src="assets/teo-socs.png" alt="Teo Apriyandi" />
                <p>Teo Apriyandi</p>
              </div>
              <div class="confetti-container" id="confettiContainer24"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Carousel Controls -->
      <button class="carousel-nav prev"><p>&lsaquo;</p></button>
      <button class="carousel-nav next"><p>&rsaquo;</p></button>

      <!-- Pagination dots will be added here via JS -->
      <div class="carousel-pagination"></div>
    </div>

    <div class="register-card">
      <h1>Register Now!</h1>
      <a href="https://freshmen.apps.binus.ac.id">Go to Freshman Apps</a>
    </div>

    <footer>
      <p>See you in FYP! - @efwaipiel.alsut</p>
      <a
        href="https://www.instagram.com/efwaipiel.alsut?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="
        ><img src="assets/instagram.png" alt="instagram-logo"
      /></a>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize carousel functionality
        let currentSlide = 0;
        const carousel = document.querySelector(".carousel");
        const slides = document.querySelectorAll(".carousel-slide");
        const totalSlides = slides.length;
        const prevButton = document.querySelector(".carousel-nav.prev");
        const nextButton = document.querySelector(".carousel-nav.next");
        const pagination = document.querySelector(".carousel-pagination");
        let isAnimating = false;

        // Function to adjust carousel height specifically for BBS slide
        function adjustCarouselHeight() {
          const currentSlideElement = slides[currentSlide];
          const carouselWrapper = document.querySelector(".carousel-wrapper");

          // Only adjust height for BBS slide
          if (currentSlideElement.classList.contains("bbs-slide")) {
            // Get the actual height of the BBS content
            const contentHeight =
              currentSlideElement.querySelector(".bbs-grid").scrollHeight;
            const containerHeight =
              currentSlideElement.querySelector(".container-fypl").scrollHeight;

            if (window.innerWidth <= 768) {
              // Mobile view - set height based on content + extra padding for pagination
              carouselWrapper.style.height = containerHeight + 60 + "px";
            } else if (window.innerWidth <= 1024) {
              // Tablet view
              carouselWrapper.style.height = containerHeight + 40 + "px";
            } else {
              // Desktop - use viewport height or content height, whichever is larger
              const minHeight = Math.max(
                window.innerHeight,
                containerHeight + 20
              );
              carouselWrapper.style.height = minHeight + "px";
            }
          } else {
            // Reset to default for all other slides
            carouselWrapper.style.height = "100vh";
          }
        }

        // Create pagination dots
        pagination.innerHTML = ""; // Clear existing dots first
        for (let i = 0; i < totalSlides; i++) {
          const dot = document.createElement("span");
          dot.className = "carousel-dot";
          dot.setAttribute("data-index", i);
          if (i === 0) dot.classList.add("active");
          pagination.appendChild(dot);

          // Add click event to each dot
          dot.addEventListener("click", () => {
            if (!isAnimating) {
              showSlide(i);
            }
          });
        }

        // Function to show a specific slide
        function showSlide(index) {
          if (isAnimating) return;
          isAnimating = true;

          // Update current slide index
          currentSlide = index;

          // Handle wrapping
          if (currentSlide < 0) currentSlide = totalSlides - 1;
          if (currentSlide >= totalSlides) currentSlide = 0;

          // Animate the carousel
          carousel.style.transform = `translateX(-${currentSlide * 100}%)`;

          // Update active dot
          document.querySelectorAll(".carousel-dot").forEach((dot, i) => {
            dot.classList.toggle("active", i === currentSlide);
          });

          // Adjust carousel height if it's the BBS slide
          adjustCarouselHeight();

          // Set up confetti for the current slide
          setupConfetti();

          // Reset animation flag after transition completes
          setTimeout(() => {
            isAnimating = false;
          }, 500);
        }

        // Function to set up confetti for all cards in current slide
        function setupConfetti() {
          const currentSlideElement = slides[currentSlide];
          const cardElements =
            currentSlideElement.querySelectorAll(".fypl-card");

          cardElements.forEach((card) => {
            // Remove existing event listeners to prevent duplicates
            const cardId = card.getAttribute("id");
            const newCard = card.cloneNode(true);
            card.parentNode.replaceChild(newCard, card);

            // Add fresh event listener to the clone
            newCard.addEventListener("mouseenter", function () {
              const containerId = `confettiContainer${this.getAttribute(
                "id"
              ).replace("card", "")}`;
              const confettiContainer = document.getElementById(containerId);

              if (confettiContainer) {
                createConfetti(confettiContainer);
              }
            });
          });
        }

        // Confetti animation function
        function createConfetti(container) {
          // Clear any existing confetti
          container.innerHTML = "";

          const colors = [
            "#FF0000",
            "#00FF00",
            "#0000FF",
            "#FFFF00",
            "#FF00FF",
            "#00FFFF",
          ];

          // Create confetti pieces
          for (let i = 0; i < 30; i++) {
            const confetti = document.createElement("div");
            confetti.className = "confetti";

            // Random properties
            const size = Math.random() * 10 + 5;
            const color = colors[Math.floor(Math.random() * colors.length)];

            // Set CSS variables for animation
            confetti.style.setProperty("--start-x", `${Math.random() * 100}%`);
            confetti.style.setProperty("--start-y", "0%");
            confetti.style.setProperty(
              "--end-x",
              `${Math.random() * 200 - 50}%`
            );
            confetti.style.setProperty(
              "--end-y",
              `${Math.random() * 100 + 100}%`
            );
            confetti.style.setProperty(
              "--rotation",
              `${Math.random() * 360}deg`
            );

            // Set styles
            confetti.style.width = `${size}px`;
            confetti.style.height = `${size}px`;
            confetti.style.backgroundColor = color;
            confetti.style.animation = `fall ${
              Math.random() * 2 + 1
            }s linear forwards`;
            confetti.style.left = `${Math.random() * 100}%`;
            confetti.style.top = "0";

            container.appendChild(confetti);
          }

          // Clean up confetti after animation completes
          setTimeout(() => {
            container.innerHTML = "";
          }, 3000);
        }

        // Only resize when BBS slide is active
        let resizeTimer;
        window.addEventListener("resize", function () {
          // Only run height adjustment when on BBS slide
          if (slides[currentSlide].classList.contains("bbs-slide")) {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(adjustCarouselHeight, 250);
          }
        });

        // Initialize the first slide
        showSlide(0);

        // Set up initial confetti handlers
        setupConfetti();

        // Auto-play the carousel
        let autoplayInterval = setInterval(() => {
          showSlide(currentSlide + 1);
        }, 5000);

        // Pause autoplay on hover
        const carouselWrapper = document.querySelector(".carousel-wrapper");
        carouselWrapper.addEventListener("mouseenter", () => {
          clearInterval(autoplayInterval);
        });

        carouselWrapper.addEventListener("mouseleave", () => {
          autoplayInterval = setInterval(() => {
            showSlide(currentSlide + 1);
          }, 5000);
        });

        // Event listeners for navigation buttons
        prevButton.addEventListener("click", () => {
          showSlide(currentSlide - 1);
        });

        nextButton.addEventListener("click", () => {
          showSlide(currentSlide + 1);
        });

        // Add swipe/touch support
        let touchStartX = 0;
        let touchEndX = 0;
        let touchStartY = 0;
        let touchEndY = 0;

        carousel.addEventListener("touchstart", (e) => {
          touchStartX = e.changedTouches[0].screenX;
          touchStartY = e.changedTouches[0].screenY;
        });

        carousel.addEventListener("touchend", (e) => {
          touchEndX = e.changedTouches[0].screenX;
          touchEndY = e.changedTouches[0].screenY;
          handleSwipe();
        });

        // Only handle horizontal swipes to avoid interfering with page scrolling
        function handleSwipe() {
          const swipeThreshold = 50;
          const verticalMove = Math.abs(touchEndY - touchStartY);
          const horizontalMove = Math.abs(touchEndX - touchStartX);

          // Only trigger if horizontal movement is greater than vertical
          if (horizontalMove > verticalMove) {
            if (touchEndX < touchStartX - swipeThreshold) {
              // Swipe left - next slide
              showSlide(currentSlide + 1);
            } else if (touchEndX > touchStartX + swipeThreshold) {
              // Swipe right - previous slide
              showSlide(currentSlide - 1);
            }
          }
        }

        // Mobile navigation menu
        const bar = document.getElementById("bar");
        const close = document.getElementById("close");
        const nav = document.getElementById("resp-nav");

        if (bar) {
          bar.addEventListener("click", () => {
            nav.classList.add("active");
          });
        }

        if (close) {
          close.addEventListener("click", () => {
            nav.classList.remove("active");
          });
        }
      });
    </script>
  </body>
</html>
